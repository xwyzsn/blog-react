<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
        <link href={{ url_for('static',filename='default.css') }}  type="text/css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    {% endblock %}
</head>
<body>
<div class="flex  w-full h-full">
    <div class="w-1/4  break-words sticky h-screen
    	left-2	top-2 mr-3 mb-3 border-4 border-sky-500 border-double "   >
        <div class="nav flex-column " style="word-break: break-all;word-wrap: break-word;overflow: hidden">
            <ul class="menu" >
            </ul>
        </div>
    </div>
    <div id="content" class="content container w-3/4 w-full ">
        {% block content %}
        {% endblock %}
    </div>
</div>

</body>

<script>
    $(document).ready(function(e) {
        $("#content").children().each(function(index, element) {
            var tagName=$(this).get(0).tagName;
            if(tagName.substr(0,1).toUpperCase()=="H"){
                var contentH=$(this).html();//获取内容
                var markid="mark-"+tagName+"-"+index.toString();
                $(this).attr("id",markid);//为当前h标签设置id
                let spaceNum =  "";
                if (tagName === 'H1') {
                    spaceNum =  "";
                } else if (tagName === 'H2') {
                    spaceNum =  "1.5";
                }  else if (tagName === 'H3') {
                    spaceNum =  "3";
                } else if (tagName === 'H4') {
                    spaceNum =  "4.5";
                } else if (tagName === 'H5') {
                    spaceNum =  "6";
                } else if (tagName === 'H6') {
                    spaceNum =  "7.5";
                }
                spaceNum+="em";
                $(".menu").append("<li class='nav-item text-base hover:drop-shadow-2xl hover:text-lg '>" +
                    "<a class='nav-link active ' href='#"+markid+"' style='text-indent:"+spaceNum+"'>"+contentH+"</a>" +
                    "</li>");//在目标DIV中添加内容
            }
        });
    });
</script>

</html>